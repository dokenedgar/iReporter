'use strict';var cov_2ioixk9qga=function(){var path="C:\\Users\\Edgar\\Desktop\\Camp de Boot\\iReporter\\build\\server\\src\\controllers\\redflagController.js",hash="4ca0fa5a1ed71be6ba6c97a6ce339c84d873add3",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\Edgar\\Desktop\\Camp de Boot\\iReporter\\build\\server\\src\\controllers\\redflagController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:20},end:{line:7,column:53}},"2":{start:{line:11,column:14},end:{line:140,column:1}},"3":{start:{line:17,column:4},end:{line:19,column:5}},"4":{start:{line:18,column:6},end:{line:18,column:105}},"5":{start:{line:21,column:4},end:{line:23,column:5}},"6":{start:{line:22,column:6},end:{line:22,column:102}},"7":{start:{line:24,column:4},end:{line:26,column:5}},"8":{start:{line:25,column:6},end:{line:25,column:103}},"9":{start:{line:27,column:4},end:{line:29,column:5}},"10":{start:{line:28,column:6},end:{line:28,column:187}},"11":{start:{line:30,column:4},end:{line:30,column:68}},"12":{start:{line:31,column:4},end:{line:31,column:70}},"13":{start:{line:33,column:18},end:{line:33,column:65}},"14":{start:{line:35,column:4},end:{line:37,column:5}},"15":{start:{line:36,column:6},end:{line:36,column:137}},"16":{start:{line:39,column:19},end:{line:39,column:51}},"17":{start:{line:40,column:4},end:{line:40,column:42}},"18":{start:{line:46,column:19},end:{line:46,column:72}},"19":{start:{line:47,column:4},end:{line:49,column:5}},"20":{start:{line:48,column:6},end:{line:48,column:101}},"21":{start:{line:50,column:19},end:{line:50,column:50}},"22":{start:{line:51,column:4},end:{line:51,column:42}},"23":{start:{line:54,column:4},end:{line:56,column:5}},"24":{start:{line:55,column:6},end:{line:55,column:94}},"25":{start:{line:57,column:17},end:{line:57,column:81}},"26":{start:{line:58,column:4},end:{line:64,column:5}},"27":{start:{line:59,column:21},end:{line:59,column:92}},"28":{start:{line:60,column:6},end:{line:60,column:44}},"29":{start:{line:62,column:22},end:{line:62,column:53}},"30":{start:{line:63,column:6},end:{line:63,column:45}},"31":{start:{line:67,column:4},end:{line:69,column:5}},"32":{start:{line:68,column:6},end:{line:68,column:127}},"33":{start:{line:70,column:4},end:{line:72,column:5}},"34":{start:{line:71,column:6},end:{line:71,column:105}},"35":{start:{line:73,column:4},end:{line:75,column:5}},"36":{start:{line:74,column:6},end:{line:74,column:102}},"37":{start:{line:76,column:4},end:{line:78,column:5}},"38":{start:{line:77,column:6},end:{line:77,column:103}},"39":{start:{line:79,column:4},end:{line:79,column:68}},"40":{start:{line:80,column:4},end:{line:80,column:70}},"41":{start:{line:82,column:17},end:{line:82,column:138}},"42":{start:{line:84,column:4},end:{line:93,column:5}},"43":{start:{line:85,column:21},end:{line:85,column:92}},"44":{start:{line:86,column:6},end:{line:86,column:44}},"45":{start:{line:87,column:11},end:{line:93,column:5}},"46":{start:{line:88,column:23},end:{line:88,column:103}},"47":{start:{line:89,column:6},end:{line:89,column:46}},"48":{start:{line:91,column:23},end:{line:91,column:54}},"49":{start:{line:92,column:6},end:{line:92,column:46}},"50":{start:{line:96,column:4},end:{line:98,column:5}},"51":{start:{line:97,column:6},end:{line:97,column:127}},"52":{start:{line:99,column:4},end:{line:101,column:5}},"53":{start:{line:100,column:6},end:{line:100,column:105}},"54":{start:{line:102,column:4},end:{line:104,column:5}},"55":{start:{line:103,column:6},end:{line:103,column:187}},"56":{start:{line:106,column:17},end:{line:106,column:116}},"57":{start:{line:108,column:4},end:{line:117,column:5}},"58":{start:{line:109,column:21},end:{line:109,column:92}},"59":{start:{line:110,column:6},end:{line:110,column:44}},"60":{start:{line:111,column:11},end:{line:117,column:5}},"61":{start:{line:112,column:23},end:{line:112,column:103}},"62":{start:{line:113,column:6},end:{line:113,column:46}},"63":{start:{line:115,column:23},end:{line:115,column:54}},"64":{start:{line:116,column:6},end:{line:116,column:46}},"65":{start:{line:120,column:4},end:{line:122,column:5}},"66":{start:{line:121,column:6},end:{line:121,column:125}},"67":{start:{line:123,column:4},end:{line:125,column:5}},"68":{start:{line:124,column:6},end:{line:124,column:105}},"69":{start:{line:127,column:17},end:{line:127,column:93}},"70":{start:{line:129,column:4},end:{line:138,column:5}},"71":{start:{line:130,column:21},end:{line:130,column:92}},"72":{start:{line:131,column:6},end:{line:131,column:44}},"73":{start:{line:132,column:11},end:{line:138,column:5}},"74":{start:{line:133,column:23},end:{line:133,column:105}},"75":{start:{line:134,column:6},end:{line:134,column:46}},"76":{start:{line:136,column:23},end:{line:136,column:54}},"77":{start:{line:137,column:6},end:{line:137,column:46}},"78":{start:{line:141,column:0},end:{line:141,column:26}}},fnMap:{"0":{name:"create",decl:{start:{line:12,column:19},end:{line:12,column:25}},loc:{start:{line:12,column:36},end:{line:41,column:3}},line:12},"1":{name:"getAllRedFlags",decl:{start:{line:45,column:27},end:{line:45,column:41}},loc:{start:{line:45,column:52},end:{line:52,column:3}},line:45},"2":{name:"fetchSpecificRedFlag",decl:{start:{line:53,column:33},end:{line:53,column:53}},loc:{start:{line:53,column:64},end:{line:65,column:3}},line:53},"3":{name:"editLocationRedFlag",decl:{start:{line:66,column:32},end:{line:66,column:51}},loc:{start:{line:66,column:62},end:{line:94,column:3}},line:66},"4":{name:"editCommentRedFlag",decl:{start:{line:95,column:31},end:{line:95,column:49}},loc:{start:{line:95,column:60},end:{line:118,column:3}},line:95},"5":{name:"deleteRedFlag",decl:{start:{line:119,column:26},end:{line:119,column:39}},loc:{start:{line:119,column:50},end:{line:139,column:3}},line:119}},branchMap:{"0":{loc:{start:{line:17,column:4},end:{line:19,column:5}},type:"if",locations:[{start:{line:17,column:4},end:{line:19,column:5}},{start:{line:17,column:4},end:{line:19,column:5}}],line:17},"1":{loc:{start:{line:17,column:8},end:{line:17,column:154}},type:"binary-expr",locations:[{start:{line:17,column:8},end:{line:17,column:24}},{start:{line:17,column:28},end:{line:17,column:54}},{start:{line:17,column:58},end:{line:17,column:85}},{start:{line:17,column:89},end:{line:17,column:115}},{start:{line:17,column:119},end:{line:17,column:154}}],line:17},"2":{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21},"3":{loc:{start:{line:21,column:8},end:{line:21,column:185}},type:"binary-expr",locations:[{start:{line:21,column:8},end:{line:21,column:26}},{start:{line:21,column:30},end:{line:21,column:58}},{start:{line:21,column:62},end:{line:21,column:91}},{start:{line:21,column:95},end:{line:21,column:117}},{start:{line:21,column:121},end:{line:21,column:144}},{start:{line:21,column:148},end:{line:21,column:185}}],line:21},"4":{loc:{start:{line:24,column:4},end:{line:26,column:5}},type:"if",locations:[{start:{line:24,column:4},end:{line:26,column:5}},{start:{line:24,column:4},end:{line:26,column:5}}],line:24},"5":{loc:{start:{line:24,column:8},end:{line:24,column:192}},type:"binary-expr",locations:[{start:{line:24,column:8},end:{line:24,column:27}},{start:{line:24,column:31},end:{line:24,column:60}},{start:{line:24,column:64},end:{line:24,column:94}},{start:{line:24,column:98},end:{line:24,column:122}},{start:{line:24,column:126},end:{line:24,column:151}},{start:{line:24,column:155},end:{line:24,column:192}}],line:24},"6":{loc:{start:{line:27,column:4},end:{line:29,column:5}},type:"if",locations:[{start:{line:27,column:4},end:{line:29,column:5}},{start:{line:27,column:4},end:{line:29,column:5}}],line:27},"7":{loc:{start:{line:27,column:8},end:{line:27,column:130}},type:"binary-expr",locations:[{start:{line:27,column:8},end:{line:27,column:25}},{start:{line:27,column:29},end:{line:27,column:56}},{start:{line:27,column:60},end:{line:27,column:90}},{start:{line:27,column:94},end:{line:27,column:130}}],line:27},"8":{loc:{start:{line:35,column:4},end:{line:37,column:5}},type:"if",locations:[{start:{line:35,column:4},end:{line:37,column:5}},{start:{line:35,column:4},end:{line:37,column:5}}],line:35},"9":{loc:{start:{line:47,column:4},end:{line:49,column:5}},type:"if",locations:[{start:{line:47,column:4},end:{line:49,column:5}},{start:{line:47,column:4},end:{line:49,column:5}}],line:47},"10":{loc:{start:{line:54,column:4},end:{line:56,column:5}},type:"if",locations:[{start:{line:54,column:4},end:{line:56,column:5}},{start:{line:54,column:4},end:{line:56,column:5}}],line:54},"11":{loc:{start:{line:54,column:8},end:{line:54,column:107}},type:"binary-expr",locations:[{start:{line:54,column:8},end:{line:54,column:22}},{start:{line:54,column:26},end:{line:54,column:50}},{start:{line:54,column:54},end:{line:54,column:79}},{start:{line:54,column:83},end:{line:54,column:107}}],line:54},"12":{loc:{start:{line:58,column:4},end:{line:64,column:5}},type:"if",locations:[{start:{line:58,column:4},end:{line:64,column:5}},{start:{line:58,column:4},end:{line:64,column:5}}],line:58},"13":{loc:{start:{line:67,column:4},end:{line:69,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:69,column:5}},{start:{line:67,column:4},end:{line:69,column:5}}],line:67},"14":{loc:{start:{line:67,column:8},end:{line:67,column:107}},type:"binary-expr",locations:[{start:{line:67,column:8},end:{line:67,column:22}},{start:{line:67,column:26},end:{line:67,column:50}},{start:{line:67,column:54},end:{line:67,column:79}},{start:{line:67,column:83},end:{line:67,column:107}}],line:67},"15":{loc:{start:{line:70,column:4},end:{line:72,column:5}},type:"if",locations:[{start:{line:70,column:4},end:{line:72,column:5}},{start:{line:70,column:4},end:{line:72,column:5}}],line:70},"16":{loc:{start:{line:70,column:8},end:{line:70,column:154}},type:"binary-expr",locations:[{start:{line:70,column:8},end:{line:70,column:24}},{start:{line:70,column:28},end:{line:70,column:54}},{start:{line:70,column:58},end:{line:70,column:85}},{start:{line:70,column:89},end:{line:70,column:115}},{start:{line:70,column:119},end:{line:70,column:154}}],line:70},"17":{loc:{start:{line:73,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:73,column:4},end:{line:75,column:5}},{start:{line:73,column:4},end:{line:75,column:5}}],line:73},"18":{loc:{start:{line:73,column:8},end:{line:73,column:185}},type:"binary-expr",locations:[{start:{line:73,column:8},end:{line:73,column:26}},{start:{line:73,column:30},end:{line:73,column:58}},{start:{line:73,column:62},end:{line:73,column:91}},{start:{line:73,column:95},end:{line:73,column:117}},{start:{line:73,column:121},end:{line:73,column:144}},{start:{line:73,column:148},end:{line:73,column:185}}],line:73},"19":{loc:{start:{line:76,column:4},end:{line:78,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:78,column:5}},{start:{line:76,column:4},end:{line:78,column:5}}],line:76},"20":{loc:{start:{line:76,column:8},end:{line:76,column:192}},type:"binary-expr",locations:[{start:{line:76,column:8},end:{line:76,column:27}},{start:{line:76,column:31},end:{line:76,column:60}},{start:{line:76,column:64},end:{line:76,column:94}},{start:{line:76,column:98},end:{line:76,column:122}},{start:{line:76,column:126},end:{line:76,column:151}},{start:{line:76,column:155},end:{line:76,column:192}}],line:76},"21":{loc:{start:{line:84,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:84,column:4},end:{line:93,column:5}},{start:{line:84,column:4},end:{line:93,column:5}}],line:84},"22":{loc:{start:{line:87,column:11},end:{line:93,column:5}},type:"if",locations:[{start:{line:87,column:11},end:{line:93,column:5}},{start:{line:87,column:11},end:{line:93,column:5}}],line:87},"23":{loc:{start:{line:96,column:4},end:{line:98,column:5}},type:"if",locations:[{start:{line:96,column:4},end:{line:98,column:5}},{start:{line:96,column:4},end:{line:98,column:5}}],line:96},"24":{loc:{start:{line:96,column:8},end:{line:96,column:107}},type:"binary-expr",locations:[{start:{line:96,column:8},end:{line:96,column:22}},{start:{line:96,column:26},end:{line:96,column:50}},{start:{line:96,column:54},end:{line:96,column:79}},{start:{line:96,column:83},end:{line:96,column:107}}],line:96},"25":{loc:{start:{line:99,column:4},end:{line:101,column:5}},type:"if",locations:[{start:{line:99,column:4},end:{line:101,column:5}},{start:{line:99,column:4},end:{line:101,column:5}}],line:99},"26":{loc:{start:{line:99,column:8},end:{line:99,column:154}},type:"binary-expr",locations:[{start:{line:99,column:8},end:{line:99,column:24}},{start:{line:99,column:28},end:{line:99,column:54}},{start:{line:99,column:58},end:{line:99,column:85}},{start:{line:99,column:89},end:{line:99,column:115}},{start:{line:99,column:119},end:{line:99,column:154}}],line:99},"27":{loc:{start:{line:102,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:102,column:4},end:{line:104,column:5}},{start:{line:102,column:4},end:{line:104,column:5}}],line:102},"28":{loc:{start:{line:102,column:8},end:{line:102,column:130}},type:"binary-expr",locations:[{start:{line:102,column:8},end:{line:102,column:25}},{start:{line:102,column:29},end:{line:102,column:56}},{start:{line:102,column:60},end:{line:102,column:90}},{start:{line:102,column:94},end:{line:102,column:130}}],line:102},"29":{loc:{start:{line:108,column:4},end:{line:117,column:5}},type:"if",locations:[{start:{line:108,column:4},end:{line:117,column:5}},{start:{line:108,column:4},end:{line:117,column:5}}],line:108},"30":{loc:{start:{line:111,column:11},end:{line:117,column:5}},type:"if",locations:[{start:{line:111,column:11},end:{line:117,column:5}},{start:{line:111,column:11},end:{line:117,column:5}}],line:111},"31":{loc:{start:{line:120,column:4},end:{line:122,column:5}},type:"if",locations:[{start:{line:120,column:4},end:{line:122,column:5}},{start:{line:120,column:4},end:{line:122,column:5}}],line:120},"32":{loc:{start:{line:120,column:8},end:{line:120,column:107}},type:"binary-expr",locations:[{start:{line:120,column:8},end:{line:120,column:22}},{start:{line:120,column:26},end:{line:120,column:50}},{start:{line:120,column:54},end:{line:120,column:79}},{start:{line:120,column:83},end:{line:120,column:107}}],line:120},"33":{loc:{start:{line:123,column:4},end:{line:125,column:5}},type:"if",locations:[{start:{line:123,column:4},end:{line:125,column:5}},{start:{line:123,column:4},end:{line:125,column:5}}],line:123},"34":{loc:{start:{line:123,column:8},end:{line:123,column:154}},type:"binary-expr",locations:[{start:{line:123,column:8},end:{line:123,column:24}},{start:{line:123,column:28},end:{line:123,column:54}},{start:{line:123,column:58},end:{line:123,column:85}},{start:{line:123,column:89},end:{line:123,column:115}},{start:{line:123,column:119},end:{line:123,column:154}}],line:123},"35":{loc:{start:{line:129,column:4},end:{line:138,column:5}},type:"if",locations:[{start:{line:129,column:4},end:{line:138,column:5}},{start:{line:129,column:4},end:{line:138,column:5}}],line:129},"36":{loc:{start:{line:132,column:11},end:{line:138,column:5}},type:"if",locations:[{start:{line:132,column:11},end:{line:138,column:5}},{start:{line:132,column:11},end:{line:138,column:5}}],line:132}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0,0,0,0],"2":[0,0],"3":[0,0,0,0,0,0],"4":[0,0],"5":[0,0,0,0,0,0],"6":[0,0],"7":[0,0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0,0,0],"15":[0,0],"16":[0,0,0,0,0],"17":[0,0],"18":[0,0,0,0,0,0],"19":[0,0],"20":[0,0,0,0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0,0],"25":[0,0],"26":[0,0,0,0,0],"27":[0,0],"28":[0,0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0,0,0],"33":[0,0],"34":[0,0,0,0,0],"35":[0,0],"36":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_2ioixk9qga.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _redflagModel=(cov_2ioixk9qga.s[1]++,require('../models/redflagModel'));// import jwt from 'jsonwebtoken';
var RedFlag=(cov_2ioixk9qga.s[2]++,{create:function create(req,res){cov_2ioixk9qga.f[0]++;cov_2ioixk9qga.s[3]++;/* User shouldn't be the one setting the type
        if (!req.body.type || (req.body.type.length < 2 ) || (req.body.type.length > 10 ) || (/\s/.test(req.body.type)) || (req.body.type !== 'red-flag') ) {
          return res.status(400).send({ status: 400, error: 'Error saving data. First name should have a length of 2 - 20 characters' });
        }   */if((cov_2ioixk9qga.b[1][0]++,!req.body.userid)||(cov_2ioixk9qga.b[1][1]++,req.body.userid.length<6)||(cov_2ioixk9qga.b[1][2]++,req.body.userid.length>10)||(cov_2ioixk9qga.b[1][3]++,/\s/.test(req.body.userid))||(cov_2ioixk9qga.b[1][4]++,typeof req.body.userid==='string')){cov_2ioixk9qga.b[0][0]++;cov_2ioixk9qga.s[4]++;return res.status(400).send({status:400,error:'A valid user-id of type Integer is required'});}else{cov_2ioixk9qga.b[0][1]++;}cov_2ioixk9qga.s[5]++;if((cov_2ioixk9qga.b[3][0]++,!req.body.latitude)||(cov_2ioixk9qga.b[3][1]++,req.body.latitude.length<2)||(cov_2ioixk9qga.b[3][2]++,req.body.latitude.length>30)||(cov_2ioixk9qga.b[3][3]++,req.body.latitude>90)||(cov_2ioixk9qga.b[3][4]++,req.body.latitude<-90)||(cov_2ioixk9qga.b[3][5]++,typeof req.body.latitude==='string')){cov_2ioixk9qga.b[2][0]++;cov_2ioixk9qga.s[6]++;return res.status(400).send({status:400,error:'Please enter a valid latitude coordinate'});}else{cov_2ioixk9qga.b[2][1]++;}cov_2ioixk9qga.s[7]++;if((cov_2ioixk9qga.b[5][0]++,!req.body.longitude)||(cov_2ioixk9qga.b[5][1]++,req.body.longitude.length<2)||(cov_2ioixk9qga.b[5][2]++,req.body.longitude.length>30)||(cov_2ioixk9qga.b[5][3]++,req.body.longitude>180)||(cov_2ioixk9qga.b[5][4]++,req.body.longitude<-180)||(cov_2ioixk9qga.b[5][5]++,typeof req.body.latitude==='string')){cov_2ioixk9qga.b[4][0]++;cov_2ioixk9qga.s[8]++;return res.status(400).send({status:400,error:'Please enter a valid longitude coordinate'});}else{cov_2ioixk9qga.b[4][1]++;}cov_2ioixk9qga.s[9]++;if((cov_2ioixk9qga.b[7][0]++,!req.body.comment)||(cov_2ioixk9qga.b[7][1]++,req.body.comment.length<2)||(cov_2ioixk9qga.b[7][2]++,req.body.comment.length>1000)||(cov_2ioixk9qga.b[7][3]++,typeof req.body.comment!=='string')){cov_2ioixk9qga.b[6][0]++;cov_2ioixk9qga.s[10]++;return res.status(400).send({status:400,error:'Please enter a comment describing what you are reporting. Comment should be between more than 1 and less than 1000 characters'});}else{cov_2ioixk9qga.b[6][1]++;}cov_2ioixk9qga.s[11]++;req.body.latitude=Math.round(req.body.latitude*1e16)/1e16;cov_2ioixk9qga.s[12]++;req.body.longitude=Math.round(req.body.longitude*1e16)/1e16;var redflag=(cov_2ioixk9qga.s[13]++,_redflagModel.newRedFlagObject.create(req.body));cov_2ioixk9qga.s[14]++;if(redflag===false){cov_2ioixk9qga.b[8][0]++;cov_2ioixk9qga.s[15]++;return res.status(400).send({status:400,error:'No user found with the supplied user-id, please check the id and try again.'});}else{cov_2ioixk9qga.b[8][1]++;}var response=(cov_2ioixk9qga.s[16]++,{status:201,data:[redflag]});cov_2ioixk9qga.s[17]++;return res.status(201).send(response);},// other methods here
getAllRedFlags:function getAllRedFlags(req,res){cov_2ioixk9qga.f[1]++;var redFlags=(cov_2ioixk9qga.s[18]++,_redflagModel.newRedFlagObject.getAllRedFlagsRecord());cov_2ioixk9qga.s[19]++;if(redFlags.length===0){cov_2ioixk9qga.b[9][0]++;cov_2ioixk9qga.s[20]++;return res.status(200).send({status:200,data:[{message:'No red-flags received yet'}]});}else{cov_2ioixk9qga.b[9][1]++;}var response=(cov_2ioixk9qga.s[21]++,{status:200,data:redFlags});cov_2ioixk9qga.s[22]++;return res.status(200).send(response);},fetchSpecificRedFlag:function fetchSpecificRedFlag(req,res){cov_2ioixk9qga.f[2]++;cov_2ioixk9qga.s[23]++;if((cov_2ioixk9qga.b[11][0]++,!req.params.id)||(cov_2ioixk9qga.b[11][1]++,req.params.id.length<5)||(cov_2ioixk9qga.b[11][2]++,req.params.id.length>20)||(cov_2ioixk9qga.b[11][3]++,/\s/.test(req.params.id))){cov_2ioixk9qga.b[10][0]++;cov_2ioixk9qga.s[24]++;return res.status(400).send({status:400,error:'Please enter a valid red-flag id'});}else{cov_2ioixk9qga.b[10][1]++;}var result=(cov_2ioixk9qga.s[25]++,_redflagModel.newRedFlagObject.getSpecificRedFlag(req.params.id));cov_2ioixk9qga.s[26]++;if(result===false){cov_2ioixk9qga.b[12][0]++;var response=(cov_2ioixk9qga.s[27]++,{status:400,error:'No red-flag record found with the supplied id'});cov_2ioixk9qga.s[28]++;return res.status(400).send(response);}else{cov_2ioixk9qga.b[12][1]++;var _response=(cov_2ioixk9qga.s[29]++,{status:200,data:[result]});cov_2ioixk9qga.s[30]++;return res.status(200).send(_response);}},editLocationRedFlag:function editLocationRedFlag(req,res){cov_2ioixk9qga.f[3]++;cov_2ioixk9qga.s[31]++;if((cov_2ioixk9qga.b[14][0]++,!req.params.id)||(cov_2ioixk9qga.b[14][1]++,req.params.id.length<5)||(cov_2ioixk9qga.b[14][2]++,req.params.id.length>20)||(cov_2ioixk9qga.b[14][3]++,/\s/.test(req.params.id))){cov_2ioixk9qga.b[13][0]++;cov_2ioixk9qga.s[32]++;return res.status(400).send({status:400,error:'Please supply a valid id for the red-flag record you want to edit'});}else{cov_2ioixk9qga.b[13][1]++;}cov_2ioixk9qga.s[33]++;if((cov_2ioixk9qga.b[16][0]++,!req.body.userid)||(cov_2ioixk9qga.b[16][1]++,req.body.userid.length<6)||(cov_2ioixk9qga.b[16][2]++,req.body.userid.length>10)||(cov_2ioixk9qga.b[16][3]++,/\s/.test(req.body.userid))||(cov_2ioixk9qga.b[16][4]++,typeof req.body.userid==='string')){cov_2ioixk9qga.b[15][0]++;cov_2ioixk9qga.s[34]++;return res.status(400).send({status:400,error:'A valid user-id of type Integer is required'});}else{cov_2ioixk9qga.b[15][1]++;}cov_2ioixk9qga.s[35]++;if((cov_2ioixk9qga.b[18][0]++,!req.body.latitude)||(cov_2ioixk9qga.b[18][1]++,req.body.latitude.length<2)||(cov_2ioixk9qga.b[18][2]++,req.body.latitude.length>30)||(cov_2ioixk9qga.b[18][3]++,req.body.latitude>90)||(cov_2ioixk9qga.b[18][4]++,req.body.latitude<-90)||(cov_2ioixk9qga.b[18][5]++,typeof req.body.latitude==='string')){cov_2ioixk9qga.b[17][0]++;cov_2ioixk9qga.s[36]++;return res.status(400).send({status:400,error:'Please enter a valid latitude coordinate'});}else{cov_2ioixk9qga.b[17][1]++;}cov_2ioixk9qga.s[37]++;if((cov_2ioixk9qga.b[20][0]++,!req.body.longitude)||(cov_2ioixk9qga.b[20][1]++,req.body.longitude.length<2)||(cov_2ioixk9qga.b[20][2]++,req.body.longitude.length>30)||(cov_2ioixk9qga.b[20][3]++,req.body.longitude>180)||(cov_2ioixk9qga.b[20][4]++,req.body.longitude<-180)||(cov_2ioixk9qga.b[20][5]++,typeof req.body.latitude==='string')){cov_2ioixk9qga.b[19][0]++;cov_2ioixk9qga.s[38]++;return res.status(400).send({status:400,error:'Please enter a valid longitude coordinate'});}else{cov_2ioixk9qga.b[19][1]++;}cov_2ioixk9qga.s[39]++;req.body.latitude=Math.round(req.body.latitude*1e16)/1e16;cov_2ioixk9qga.s[40]++;req.body.longitude=Math.round(req.body.longitude*1e16)/1e16;var result=(cov_2ioixk9qga.s[41]++,_redflagModel.newRedFlagObject.editRedFlagLocation(req.params.id,req.body.userid,req.body.latitude,req.body.longitude));cov_2ioixk9qga.s[42]++;if(result===false){cov_2ioixk9qga.b[21][0]++;var response=(cov_2ioixk9qga.s[43]++,{status:400,error:'No red-flag record found with the supplied id'});cov_2ioixk9qga.s[44]++;return res.status(400).send(response);}else{cov_2ioixk9qga.b[21][1]++;cov_2ioixk9qga.s[45]++;if(result===true){cov_2ioixk9qga.b[22][0]++;var _response2=(cov_2ioixk9qga.s[46]++,{status:400,error:'Sorry, you do not have permission to edit this record.'});cov_2ioixk9qga.s[47]++;return res.status(400).send(_response2);}else{cov_2ioixk9qga.b[22][1]++;var _response3=(cov_2ioixk9qga.s[48]++,{status:200,data:[result]});cov_2ioixk9qga.s[49]++;return res.status(200).send(_response3);}}},editCommentRedFlag:function editCommentRedFlag(req,res){cov_2ioixk9qga.f[4]++;cov_2ioixk9qga.s[50]++;if((cov_2ioixk9qga.b[24][0]++,!req.params.id)||(cov_2ioixk9qga.b[24][1]++,req.params.id.length<5)||(cov_2ioixk9qga.b[24][2]++,req.params.id.length>20)||(cov_2ioixk9qga.b[24][3]++,/\s/.test(req.params.id))){cov_2ioixk9qga.b[23][0]++;cov_2ioixk9qga.s[51]++;return res.status(400).send({status:400,error:'Please supply a valid id for the red-flag record you want to edit'});}else{cov_2ioixk9qga.b[23][1]++;}cov_2ioixk9qga.s[52]++;if((cov_2ioixk9qga.b[26][0]++,!req.body.userid)||(cov_2ioixk9qga.b[26][1]++,req.body.userid.length<6)||(cov_2ioixk9qga.b[26][2]++,req.body.userid.length>10)||(cov_2ioixk9qga.b[26][3]++,/\s/.test(req.body.userid))||(cov_2ioixk9qga.b[26][4]++,typeof req.body.userid==='string')){cov_2ioixk9qga.b[25][0]++;cov_2ioixk9qga.s[53]++;return res.status(400).send({status:400,error:'A valid user-id of type Integer is required'});}else{cov_2ioixk9qga.b[25][1]++;}cov_2ioixk9qga.s[54]++;if((cov_2ioixk9qga.b[28][0]++,!req.body.comment)||(cov_2ioixk9qga.b[28][1]++,req.body.comment.length<2)||(cov_2ioixk9qga.b[28][2]++,req.body.comment.length>1000)||(cov_2ioixk9qga.b[28][3]++,typeof req.body.comment!=='string')){cov_2ioixk9qga.b[27][0]++;cov_2ioixk9qga.s[55]++;return res.status(400).send({status:400,error:'Please enter a comment describing what you are reporting. Comment should be between more than 1 and less than 1000 characters'});}else{cov_2ioixk9qga.b[27][1]++;}var result=(cov_2ioixk9qga.s[56]++,_redflagModel.newRedFlagObject.editRedFlagComment(req.params.id,req.body.userid,req.body.comment));cov_2ioixk9qga.s[57]++;if(result===false){cov_2ioixk9qga.b[29][0]++;var response=(cov_2ioixk9qga.s[58]++,{status:400,error:'No red-flag record found with the supplied id'});cov_2ioixk9qga.s[59]++;return res.status(400).send(response);}else{cov_2ioixk9qga.b[29][1]++;cov_2ioixk9qga.s[60]++;if(result===true){cov_2ioixk9qga.b[30][0]++;var _response4=(cov_2ioixk9qga.s[61]++,{status:400,error:'Sorry, you do not have permission to edit this record.'});cov_2ioixk9qga.s[62]++;return res.status(400).send(_response4);}else{cov_2ioixk9qga.b[30][1]++;var _response5=(cov_2ioixk9qga.s[63]++,{status:200,data:[result]});cov_2ioixk9qga.s[64]++;return res.status(200).send(_response5);}}},deleteRedFlag:function deleteRedFlag(req,res){cov_2ioixk9qga.f[5]++;cov_2ioixk9qga.s[65]++;if((cov_2ioixk9qga.b[32][0]++,!req.params.id)||(cov_2ioixk9qga.b[32][1]++,req.params.id.length<5)||(cov_2ioixk9qga.b[32][2]++,req.params.id.length>20)||(cov_2ioixk9qga.b[32][3]++,/\s/.test(req.params.id))){cov_2ioixk9qga.b[31][0]++;cov_2ioixk9qga.s[66]++;return res.status(400).send({message:'Error processing request. Please enter username with at least 5 characters'});}else{cov_2ioixk9qga.b[31][1]++;}cov_2ioixk9qga.s[67]++;if((cov_2ioixk9qga.b[34][0]++,!req.body.userid)||(cov_2ioixk9qga.b[34][1]++,req.body.userid.length<6)||(cov_2ioixk9qga.b[34][2]++,req.body.userid.length>10)||(cov_2ioixk9qga.b[34][3]++,/\s/.test(req.body.userid))||(cov_2ioixk9qga.b[34][4]++,typeof req.body.userid==='string')){cov_2ioixk9qga.b[33][0]++;cov_2ioixk9qga.s[68]++;return res.status(400).send({status:400,error:'A valid user-id of type Integer is required'});}else{cov_2ioixk9qga.b[33][1]++;}var result=(cov_2ioixk9qga.s[69]++,_redflagModel.newRedFlagObject.deleteRedFlag(req.params.id,req.body.userid));cov_2ioixk9qga.s[70]++;if(result===false){cov_2ioixk9qga.b[35][0]++;var response=(cov_2ioixk9qga.s[71]++,{status:400,error:'No red-flag record found with the supplied id'});cov_2ioixk9qga.s[72]++;return res.status(400).send(response);}else{cov_2ioixk9qga.b[35][1]++;cov_2ioixk9qga.s[73]++;if(result===true){cov_2ioixk9qga.b[36][0]++;var _response6=(cov_2ioixk9qga.s[74]++,{status:400,error:'Sorry, you do not have permission to delete this record.'});cov_2ioixk9qga.s[75]++;return res.status(400).send(_response6);}else{cov_2ioixk9qga.b[36][1]++;var _response7=(cov_2ioixk9qga.s[76]++,{status:200,data:[result]});cov_2ioixk9qga.s[77]++;return res.status(200).send(_response7);}}}});cov_2ioixk9qga.s[78]++;exports.default=RedFlag;
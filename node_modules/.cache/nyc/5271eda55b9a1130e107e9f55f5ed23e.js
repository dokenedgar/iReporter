'use strict';var cov_muwh6cdo0=function(){var path="C:\\Users\\Edgar\\Desktop\\Camp de Boot\\iReporter\\build\\src\\controllers\\userController.js",hash="2069f8beab7f58a307b3f65addedbd1e259a0210",Function=function(){}.constructor,global=new Function('return this')(),gcv="__coverage__",coverageData={path:"C:\\Users\\Edgar\\Desktop\\Camp de Boot\\iReporter\\build\\src\\controllers\\userController.js",statementMap:{"0":{start:{line:3,column:0},end:{line:5,column:3}},"1":{start:{line:7,column:17},end:{line:7,column:47}},"2":{start:{line:11,column:11},end:{line:56,column:1}},"3":{start:{line:13,column:4},end:{line:15,column:5}},"4":{start:{line:14,column:6},end:{line:14,column:122}},"5":{start:{line:16,column:4},end:{line:18,column:5}},"6":{start:{line:17,column:6},end:{line:17,column:119}},"7":{start:{line:19,column:4},end:{line:21,column:5}},"8":{start:{line:20,column:6},end:{line:20,column:137}},"9":{start:{line:22,column:4},end:{line:24,column:5}},"10":{start:{line:23,column:6},end:{line:23,column:115}},"11":{start:{line:25,column:4},end:{line:27,column:5}},"12":{start:{line:26,column:6},end:{line:26,column:125}},"13":{start:{line:28,column:15},end:{line:28,column:56}},"14":{start:{line:30,column:19},end:{line:30,column:48}},"15":{start:{line:31,column:4},end:{line:31,column:42}},"16":{start:{line:37,column:4},end:{line:39,column:5}},"17":{start:{line:38,column:6},end:{line:38,column:70}},"18":{start:{line:40,column:4},end:{line:42,column:5}},"19":{start:{line:41,column:6},end:{line:41,column:124}},"20":{start:{line:43,column:4},end:{line:45,column:5}},"21":{start:{line:44,column:6},end:{line:44,column:122}},"22":{start:{line:47,column:17},end:{line:47,column:88}},"23":{start:{line:48,column:4},end:{line:54,column:5}},"24":{start:{line:49,column:21},end:{line:49,column:72}},"25":{start:{line:50,column:6},end:{line:50,column:44}},"26":{start:{line:52,column:22},end:{line:52,column:53}},"27":{start:{line:53,column:6},end:{line:53,column:45}},"28":{start:{line:57,column:0},end:{line:57,column:23}}},fnMap:{"0":{name:"create",decl:{start:{line:12,column:19},end:{line:12,column:25}},loc:{start:{line:12,column:36},end:{line:32,column:3}},line:12},"1":{name:"getUser",decl:{start:{line:36,column:20},end:{line:36,column:27}},loc:{start:{line:36,column:38},end:{line:55,column:3}},line:36}},branchMap:{"0":{loc:{start:{line:13,column:4},end:{line:15,column:5}},type:"if",locations:[{start:{line:13,column:4},end:{line:15,column:5}},{start:{line:13,column:4},end:{line:15,column:5}}],line:13},"1":{loc:{start:{line:13,column:8},end:{line:13,column:127}},type:"binary-expr",locations:[{start:{line:13,column:8},end:{line:13,column:27}},{start:{line:13,column:31},end:{line:13,column:60}},{start:{line:13,column:64},end:{line:13,column:94}},{start:{line:13,column:98},end:{line:13,column:127}}],line:13},"2":{loc:{start:{line:16,column:4},end:{line:18,column:5}},type:"if",locations:[{start:{line:16,column:4},end:{line:18,column:5}},{start:{line:16,column:4},end:{line:18,column:5}}],line:16},"3":{loc:{start:{line:16,column:8},end:{line:16,column:123}},type:"binary-expr",locations:[{start:{line:16,column:8},end:{line:16,column:26}},{start:{line:16,column:30},end:{line:16,column:58}},{start:{line:16,column:62},end:{line:16,column:91}},{start:{line:16,column:95},end:{line:16,column:123}}],line:16},"4":{loc:{start:{line:19,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:19,column:4},end:{line:21,column:5}},{start:{line:19,column:4},end:{line:21,column:5}}],line:19},"5":{loc:{start:{line:19,column:8},end:{line:19,column:171}},type:"binary-expr",locations:[{start:{line:19,column:8},end:{line:19,column:29}},{start:{line:19,column:33},end:{line:19,column:65}},{start:{line:19,column:69},end:{line:19,column:101}},{start:{line:19,column:105},end:{line:19,column:136}},{start:{line:19,column:140},end:{line:19,column:171}}],line:19},"6":{loc:{start:{line:22,column:4},end:{line:24,column:5}},type:"if",locations:[{start:{line:22,column:4},end:{line:24,column:5}},{start:{line:22,column:4},end:{line:24,column:5}}],line:22},"7":{loc:{start:{line:22,column:8},end:{line:22,column:123}},type:"binary-expr",locations:[{start:{line:22,column:8},end:{line:22,column:26}},{start:{line:22,column:30},end:{line:22,column:58}},{start:{line:22,column:62},end:{line:22,column:91}},{start:{line:22,column:95},end:{line:22,column:123}}],line:22},"8":{loc:{start:{line:25,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:27,column:5}},{start:{line:25,column:4},end:{line:27,column:5}}],line:25},"9":{loc:{start:{line:25,column:8},end:{line:25,column:123}},type:"binary-expr",locations:[{start:{line:25,column:8},end:{line:25,column:26}},{start:{line:25,column:30},end:{line:25,column:58}},{start:{line:25,column:62},end:{line:25,column:91}},{start:{line:25,column:95},end:{line:25,column:123}}],line:25},"10":{loc:{start:{line:37,column:4},end:{line:39,column:5}},type:"if",locations:[{start:{line:37,column:4},end:{line:39,column:5}},{start:{line:37,column:4},end:{line:39,column:5}}],line:37},"11":{loc:{start:{line:37,column:8},end:{line:37,column:48}},type:"binary-expr",locations:[{start:{line:37,column:8},end:{line:37,column:26}},{start:{line:37,column:30},end:{line:37,column:48}}],line:37},"12":{loc:{start:{line:40,column:4},end:{line:42,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:42,column:5}},{start:{line:40,column:4},end:{line:42,column:5}}],line:40},"13":{loc:{start:{line:40,column:8},end:{line:40,column:123}},type:"binary-expr",locations:[{start:{line:40,column:8},end:{line:40,column:26}},{start:{line:40,column:30},end:{line:40,column:58}},{start:{line:40,column:62},end:{line:40,column:91}},{start:{line:40,column:95},end:{line:40,column:123}}],line:40},"14":{loc:{start:{line:43,column:4},end:{line:45,column:5}},type:"if",locations:[{start:{line:43,column:4},end:{line:45,column:5}},{start:{line:43,column:4},end:{line:45,column:5}}],line:43},"15":{loc:{start:{line:43,column:8},end:{line:43,column:123}},type:"binary-expr",locations:[{start:{line:43,column:8},end:{line:43,column:26}},{start:{line:43,column:30},end:{line:43,column:58}},{start:{line:43,column:62},end:{line:43,column:91}},{start:{line:43,column:95},end:{line:43,column:123}}],line:43},"16":{loc:{start:{line:48,column:4},end:{line:54,column:5}},type:"if",locations:[{start:{line:48,column:4},end:{line:54,column:5}},{start:{line:48,column:4},end:{line:54,column:5}}],line:48}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0,"1":0},b:{"0":[0,0],"1":[0,0,0,0],"2":[0,0],"3":[0,0,0,0],"4":[0,0],"5":[0,0,0,0,0],"6":[0,0],"7":[0,0,0,0],"8":[0,0],"9":[0,0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0,0],"14":[0,0],"15":[0,0,0,0],"16":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();cov_muwh6cdo0.s[0]++;Object.defineProperty(exports,"__esModule",{value:true});var _userModel=(cov_muwh6cdo0.s[1]++,require('../models/userModel'));// import jwt from 'jsonwebtoken';
var User=(cov_muwh6cdo0.s[2]++,{create:function create(req,res){cov_muwh6cdo0.f[0]++;cov_muwh6cdo0.s[3]++;if((cov_muwh6cdo0.b[1][0]++,!req.body.firstname)||(cov_muwh6cdo0.b[1][1]++,req.body.firstname.length<2)||(cov_muwh6cdo0.b[1][2]++,req.body.firstname.length>20)||(cov_muwh6cdo0.b[1][3]++,/\s/.test(req.body.firstname))){cov_muwh6cdo0.b[0][0]++;cov_muwh6cdo0.s[4]++;return res.status(400).send({message:'Error saving data. First name should have a length of 2 - 20 characters'});}else{cov_muwh6cdo0.b[0][1]++;}cov_muwh6cdo0.s[5]++;if((cov_muwh6cdo0.b[3][0]++,!req.body.lastname)||(cov_muwh6cdo0.b[3][1]++,req.body.lastname.length<2)||(cov_muwh6cdo0.b[3][2]++,req.body.lastname.length>20)||(cov_muwh6cdo0.b[3][3]++,/\s/.test(req.body.lastname))){cov_muwh6cdo0.b[2][0]++;cov_muwh6cdo0.s[6]++;return res.status(400).send({message:'Error saving data. Surname should have a length of 2 - 20 characters'});}else{cov_muwh6cdo0.b[2][1]++;}cov_muwh6cdo0.s[7]++;if((cov_muwh6cdo0.b[5][0]++,!req.body.phoneNumber)||(cov_muwh6cdo0.b[5][1]++,req.body.phoneNumber.length<11)||(cov_muwh6cdo0.b[5][2]++,req.body.phoneNumber.length>14)||(cov_muwh6cdo0.b[5][3]++,/\s/.test(req.body.phoneNumber))||(cov_muwh6cdo0.b[5][4]++,/\D/.test(req.body.phoneNumber))){cov_muwh6cdo0.b[4][0]++;cov_muwh6cdo0.s[8]++;return res.status(400).send({message:'Error saving phone data. Phone number should have length of 11, containing only digits'});}else{cov_muwh6cdo0.b[4][1]++;}cov_muwh6cdo0.s[9]++;if((cov_muwh6cdo0.b[7][0]++,!req.body.username)||(cov_muwh6cdo0.b[7][1]++,req.body.username.length<5)||(cov_muwh6cdo0.b[7][2]++,req.body.username.length>20)||(cov_muwh6cdo0.b[7][3]++,/\s/.test(req.body.username))){cov_muwh6cdo0.b[6][0]++;cov_muwh6cdo0.s[10]++;return res.status(400).send({message:'Error saving data. Please choose a good username with at least 5'});}else{cov_muwh6cdo0.b[6][1]++;}cov_muwh6cdo0.s[11]++;if((cov_muwh6cdo0.b[9][0]++,!req.body.password)||(cov_muwh6cdo0.b[9][1]++,req.body.password.length<5)||(cov_muwh6cdo0.b[9][2]++,req.body.password.length>20)||(cov_muwh6cdo0.b[9][3]++,/\s/.test(req.body.password))){cov_muwh6cdo0.b[8][0]++;cov_muwh6cdo0.s[12]++;return res.status(400).send({message:'Error saving data. Please choose a strong password of atleast 5 characters'});}else{cov_muwh6cdo0.b[8][1]++;}var user=(cov_muwh6cdo0.s[13]++,_userModel.newUserObject.create(req.body));var response=(cov_muwh6cdo0.s[14]++,{status:201,data:[user]});cov_muwh6cdo0.s[15]++;return res.status(201).send(response);},// other methods here
getUser:function getUser(req,res){cov_muwh6cdo0.f[1]++;cov_muwh6cdo0.s[16]++;if((cov_muwh6cdo0.b[11][0]++,!req.body.username)||(cov_muwh6cdo0.b[11][1]++,!req.body.password)){cov_muwh6cdo0.b[10][0]++;cov_muwh6cdo0.s[17]++;return res.status(400).send({message:'All fields required'});}else{cov_muwh6cdo0.b[10][1]++;}cov_muwh6cdo0.s[18]++;if((cov_muwh6cdo0.b[13][0]++,!req.body.username)||(cov_muwh6cdo0.b[13][1]++,req.body.username.length<5)||(cov_muwh6cdo0.b[13][2]++,req.body.username.length>20)||(cov_muwh6cdo0.b[13][3]++,/\s/.test(req.body.username))){cov_muwh6cdo0.b[12][0]++;cov_muwh6cdo0.s[19]++;return res.status(400).send({message:'Error processing request. Please enter username with at least 5 charcters'});}else{cov_muwh6cdo0.b[12][1]++;}cov_muwh6cdo0.s[20]++;if((cov_muwh6cdo0.b[15][0]++,!req.body.password)||(cov_muwh6cdo0.b[15][1]++,req.body.password.length<5)||(cov_muwh6cdo0.b[15][2]++,req.body.password.length>20)||(cov_muwh6cdo0.b[15][3]++,/\s/.test(req.body.password))){cov_muwh6cdo0.b[14][0]++;cov_muwh6cdo0.s[21]++;return res.status(400).send({message:'Error processing request. Please enter password of atleast 5 characters'});}else{cov_muwh6cdo0.b[14][1]++;}var result=(cov_muwh6cdo0.s[22]++,_userModel.newUserObject.findUser(req.body.username,req.body.password));cov_muwh6cdo0.s[23]++;if(result===false){cov_muwh6cdo0.b[16][0]++;var response=(cov_muwh6cdo0.s[24]++,{status:400,error:'Invalid login credentials'});cov_muwh6cdo0.s[25]++;return res.status(400).send(response);}else{cov_muwh6cdo0.b[16][1]++;var _response=(cov_muwh6cdo0.s[26]++,{status:200,data:[result]});cov_muwh6cdo0.s[27]++;return res.status(200).send(_response);}}});cov_muwh6cdo0.s[28]++;exports.default=User;